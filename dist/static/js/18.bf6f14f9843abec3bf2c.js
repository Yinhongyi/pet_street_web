webpackJsonp([18],{er7h:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=new(s("7+uW").default)({data:function(){return{TOKEN:"",userData:{}}},create:function(){this.TOKEN=localStorage.getItem("TOKEN")||""}}),a={name:"Login",data:function(){return{login_message:i,isShowLoginPage:!0,isShowTipsPage:!1,isShowIcon:!1,isShowTips:!1,options:[{value:"2",label:"商户"},{value:"4",label:"平台用户"}],userType:"2",userName:"",userPassword:"",loading:!1,loadingFinish:!1}},methods:{selectIdentity:function(e){console.log(e)},logIn:function(){var e=this,t={mobile:this.userName,pwd:this.userPassword,userType:this.userType};this.loading=!0,this.$http.post("api/mgmt/mall/login",t).then(function(t){e.loading=!1,1e3===t.code?(localStorage.setItem("P_S_TOKEN_KEY",t.data&&t.data.token),localStorage.setItem("P_S_USER_INFO",JSON.stringify(t.data&&t.data.userInfo||{})),localStorage.setItem("P_S_USER_TYPE",e.userType),e.animationSwitch()):e.$message({message:t.message,type:"error"})})},animationSwitch:function(){var e=this;this.isShowLoginPage=!1,setTimeout(function(){e.isShowTipsPage=!0},500),setTimeout(function(){e.isShowIcon=!0},700),setTimeout(function(){e.isShowTips=!0},1700),setTimeout(function(){e.$router.push({path:"/manage"})},2700),setTimeout(function(){e.loadingFinish=!0,e.isShowIcon=!1,e.isShowTips=!1},3e3)}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("transition",{attrs:{name:"disappear"}},[e.isShowLoginPage?i("div",{staticClass:"loginPage"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:s("6PsS"),alt:""}})]),e._v(" "),i("div",{staticClass:"system-title"},[e._v("宠物街商品管理平台")]),e._v(" "),i("div",{staticClass:"item"},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:function(t){return e.selectIdentity(t)}},model:{value:e.userType,callback:function(t){e.userType=t},expression:"userType"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("div",{staticClass:"item"},[i("el-input",{attrs:{placeholder:"账户名"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("el-input",{attrs:{placeholder:"账户密码","show-password":""},model:{value:e.userPassword,callback:function(t){e.userPassword=t},expression:"userPassword"}})],1),e._v(" "),i("div",{staticClass:"item"},[i("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.logIn()}}},[e._v("登录")])],1)]):e._e()]),e._v(" "),e.isShowTipsPage?i("div",{staticClass:"tipsPage"},[i("transition",{attrs:{name:"shake"}},[e.isShowIcon?i("div",[i("i",{staticClass:"iconfont icon-check-circle-fill"})]):e._e()]),e._v(" "),i("transition",{attrs:{name:"pulse"}},[e.isShowTips?i("div",[e._v("登陆成功")]):e._e()]),e._v(" "),e.loadingFinish?i("div",[e._v("数据加载完毕")]):e._e()],1):e._e()],1)},staticRenderFns:[]};var o=s("VU/8")(a,n,!1,function(e){s("k4tZ")},"data-v-07907d85",null);t.default=o.exports},k4tZ:function(e,t){}});
//# sourceMappingURL=18.bf6f14f9843abec3bf2c.js.map